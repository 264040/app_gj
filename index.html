<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›½é™…éŸ³æ ‡å­¦ä¹ </title>
    <link rel="stylesheet" href="./css/styles.css">
    <link href="./favicon.ico">
</head>

<body>
    <header>
        <!-- <div class="logo">å›½é™…éŸ³æ ‡å­¦ä¹ </div> -->
        <div class="logoimg"> <img data-v-689f6ef2=""
                src="https://www.xdf.cn/zhuanti/bd-phonetic-alphabet-card/resource/img/top-bg-c763567.png"
                class="top_img">
        </div>
    </header>

    <div class="theme-switch" onclick="toggleDarkMode()">ğŸŒ™</div>

    <section class="content">
        <p>ç‚¹å‡»éŸ³æ ‡å‘éŸ³</p>

        <!-- åŠ¨æ€ç”Ÿæˆé€‰é¡¹å¡ -->
        <div class="tabs" id="tabs">
            <!-- é€‰é¡¹å¡ä¼šåŠ¨æ€ç”Ÿæˆ -->
        </div>

        <!-- éŸ³æ ‡å±•ç¤ºå®¹å™¨ -->
        <div id="ipa-container" class="ipa-container">
            <!-- éŸ³æ ‡æŒ‰é’®ä¼šåŠ¨æ€æ¸²æŸ“åˆ°è¿™é‡Œ -->
        </div>
    </section>

    <div id="diagram-container" class="diagram-container">
        <p>ç‚¹å‡»éŸ³æ ‡æŸ¥çœ‹å›¾è§£</p>
    </div>
    <div class="coming-soon">
        æ•¬è¯·æœŸå¾…...
    </div>

    <script src="./js/toggleDarkMode.js"></script>
    <script>

        async function getJsonData() {
            try {
                const response = await fetch("https://appgj.netlify.app/js/jsons.json");
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const data = await response.json();
                console.log(data, 1111); // è¾“å‡º JSON æ•°æ®

                // åŠ¨æ€ç”Ÿæˆé€‰é¡¹å¡
                function generateTabs(e) {
                    const tabsContainer = document.getElementById('tabs');
                    // éå† ipaData åˆ›å»ºé€‰é¡¹å¡
                    Object.keys(data).forEach(key => {
                        const tabBtn = document.createElement('div');
                        tabBtn.classList.add('tab-btn');
                        tabBtn.textContent = data[key].name;
                        tabBtn.id = key + '-tab';
                        tabBtn.onclick = () => showTab(key);
                        tabsContainer.appendChild(tabBtn);
                    });

                    // é»˜è®¤æ˜¾ç¤ºç¬¬ä¸€ä¸ªé€‰é¡¹å¡
                    const firstTab = Object.keys(data)[0];
                    showTab(firstTab);
                }

                // æ¸²æŸ“éŸ³æ ‡æŒ‰é’®
                function renderIpaButtons(type) {
                    const container = document.getElementById('ipa-container');
                    container.innerHTML = ''; // æ¸…ç©ºç°æœ‰å†…å®¹

                    data[type].symbols.forEach(item => {
                        const button = document.createElement('div');
                        button.classList.add('ipa-btn');
                        button.textContent = item.symbol;
                        button.onclick = () => {
                            playSound(item.audio);
                            showDiagram(item.diagram);
                        };
                        container.appendChild(button);
                    });
                }
                // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
                // æ˜¾ç¤ºå›¾è§£
                function showDiagram(imagePath) {
                    const diagramContainer = document.getElementById('diagram-container');
                    diagramContainer.innerHTML = ''; // æ¸…ç©ºå›¾è§£å®¹å™¨

                    const img = document.createElement('img');
                    img.src = imagePath;
                    img.alt = "éŸ³æ ‡å›¾è§£";

                    diagramContainer.appendChild(img);
                }

                // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
                // æ’­æ”¾éŸ³æ ‡å‘éŸ³
                function playSound(file) {
                    let audio = new Audio(file);
                    audio.play();
                }

                // åˆ‡æ¢é€‰é¡¹å¡
                function showTab(tabName) {
                    // éšè—æ‰€æœ‰é€‰é¡¹å¡å†…å®¹
                    let tabBtns = document.querySelectorAll('.tab-btn');
                    tabBtns.forEach(btn => {
                        btn.classList.remove('active');
                    });

                    // æ¿€æ´»å½“å‰é€‰é¡¹å¡æŒ‰é’®
                    let activeBtn = document.getElementById(tabName + '-tab');
                    activeBtn.classList.add('active');

                    // æ¸²æŸ“å¯¹åº”çš„éŸ³æ ‡æŒ‰é’®
                    renderIpaButtons(tabName);
                }



                // åˆå§‹åŒ–é¡µé¢
                generateTabs();
            } catch (error) {
                console.error('000', error);
            }
        }

        getJsonData();
    </script>
</body>

</html>
